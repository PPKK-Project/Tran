## 1. 주요 기능 및 제미나이 AI 활용 계획

| 기능 분류 | 주요 기능 | 구현 및 API 활용 계획 |
| :--- | :--- | :--- |
| **개인 학습 관리** | **공부 요약 및 PDF 다운로드** | **Gemini API**를 사용하여 `StudyRecord`의 내용(`content`)을 요약하고, Python의 **`reportlab`**이나 Node.js의 **`pdfkit`** 같은 라이브러리를 사용하여 요약 텍스트를 PDF 파일로 변환하여 다운로드 제공. |
| | **음성 녹음 파일 요약** | 유저가 올린 녹음 파일을 **Whisper API**로 텍스트로 변환한 후, 이 텍스트를 **Gemini API**로 요약하여 `StudyRecord`에 저장. |
| **지역 기반 그룹** | **근처 그룹/유저 찾기** | 당근마켓처럼 위치 기반 서비스(LBS) 구현. 유저의 현재 위치(위도/경도)를 기준으로 일정 반경 내의 **`StudyGroup`**을 검색하여 추천. |

---

## 2. 기술 및 API 활용 계획 상세

| 기술/API | 사용 목적 | 비고 |
| :--- | :--- | :--- |
| **Gemini API** | 1. `StudyRecord` 텍스트 요약 2. Whisper로 변환된 **녹음 텍스트 요약** 3. Markdown(MD) 파일 분석 및 요약 | 학습 요약 및 자료 분석의 핵심 기능. **비용 및 요청 제한 관리 필수.** |
| **Whisper API** | 유저가 업로드한 공부 녹음 파일을 **정확한 텍스트로 변환**. | 대용량 파일 처리를 위한 비동기 처리(Async) 고려 필요. |
| **지도 API** | **(Google Maps API, Naver Maps API 등)** | 유저 및 그룹의 **위치 정보(위도/경도)**를 저장하고, `StudyGroup`을 거리 기준으로 검색하는 데 사용. |
| **DB (PostgreSQL/MySQL)** | **지리 정보 시스템(GIS)** 기능을 활용하여 `latitude` 및 `longitude` 필드를 이용해 효율적인 **반경 검색 쿼리** 실행. | 위치 기반 서비스(LBS) 구현의 핵심. |
| **PDF 라이브러리** | (Python: `reportlab`, Node.js: `pdfkit` 등) | 제미나이가 생성한 최종 요약 텍스트를 **PDF 문서로 변환**하여 다운로드 가능하게 구현. |

---

## 3. 엔티티 구조

| 엔티티 | PK | FK | 관계 |
| :--- | :--- | :--- | :--- |
| **User** | `user_id` | (없음) | 모든 기록과 그룹의 주인 |
| **StudyGroup** | `group_id` | (없음) | |
| **StudyRecord** | `record_id` | **`user_id`** | User (1) → (N) StudyRecord |
| **GroupMember**| `group_member_id` | **`user_id`**, **`group_id`**| User (N) ↔ (M) StudyGroup 연결 |



---
# 문제점
## 1. 비즈니스 및 사용자 경험(UX) 측면의 부족한 점

| 부족한 측면 | 구체적인 보완 필요 사항 |
| :--- | :--- |
| **수익 모델 부재** | **무료 API 제한**을 언급하셨는데, 서비스가 성공하면 유료 API 사용으로 전환해야 합니다. 이에 대비하여 **수익을 창출할 방법** (예: 유료 그룹 생성, 프리미엄 요약 기능, 광고 등)을 구체적으로 고민해야 합니다. |
| **사용자 유인책** | 단순히 요약 기능만으로는 사용자가 지속적으로 공부 기록을 남길 동기가 부족할 수 있습니다. **'당근마켓처럼'**이라는 아이디어를 구체화하여, **그룹 참여의 실질적인 이점** (예: 랭킹 시스템, 그룹 목표 달성 보상, 챌린지 기능)을 추가해야 합니다. |
| **데이터 검증 및 품질** | AI 요약이나 Whisper 음성 변환의 **정확도**가 100%가 아닐 수 있습니다. 사용자에게 **요약 내용의 정확성을 검토하고 수정할 수 있는 기능**이나, 요약 품질에 대한 피드백을 받을 수 있는 장치가 필요합니다. |
| **그룹 관리 및 제재** | 그룹을 생성하고 유저를 모으는 것 외에, **그룹 내 규칙 관리, 그룹장 위임, 불건전한 그룹/유저 신고 및 제재 기능** 등 커뮤니티 관리 기능이 필수적으로 보완되어야 합니다. |

---

## 2. 기술 및 시스템 설계 측면의 부족한 점

| 부족한 측면 | 구체적인 보완 필요 사항 |
| :--- | :--- |
| **음성 파일 처리의 복잡성** | **Whisper API** 사용 시, 녹음 파일의 **업로드 크기 제한, 처리 시간, 비동기 처리 방법**에 대한 구체적인 계획이 필요합니다. 긴 녹음 파일의 경우 응답을 기다리는 동안 사용자 경험이 저해될 수 있습니다. |
| **위치 정보의 프라이버시** | 유저의 **위치 정보**(`latitude`, `longitude`)를 저장하고 사용하는 것은 민감한 개인 정보입니다. **정보를 익명화하거나, 사용자가 위치 정보 노출 범위를 설정**할 수 있는 명확한 정책과 기능이 요구됩니다. |
| **API 비용 관리** | **Gemini AI**와 **Whisper**의 사용량을 백엔드에서 실시간으로 모니터링하고, 무료 한도 초과 시 유저에게 **알림을 주거나 기능 사용을 제한하는 로직**을 구체적으로 설계해야 합니다. (캐싱 전략 포함) |
| **PDF 생성 및 저장** | 생성된 PDF 파일은 **저장 공간(AWS S3 등)**이 필요하며, 대용량 트래픽 발생 시 파일 변환 및 다운로드 시의 **서버 부하 관리** 전략이 요구됩니다. |
| **API 명세의 상세화** | 현재 DB 엔티티 설계는 좋지만, 프론트엔드와 백엔드가 주고받을 **정확한 DTO(요청/응답)**와 **API 엔드포인트**를 3단계에서 더욱 상세하게 명세해야 합니다. |

특징 	Spring Data REST	DTO와 HATEOAS (수동 구현)
개발 속도	빠름 (자동 생성)	느림 (수동 매핑 및 링크 추가)
유연성/제어	낮음 (엔티티 직접 노출)	높음 (DTO를 통한 세밀한 제어)
유지보수	낮음 (요구사항 변경 시 복잡해짐)	높음 (관심사 분리로 인한 견고함)
보안	낮음 (민감 정보 노출 위험)	높음 (DTO로 정보 제어)
적합한 상황	초기 단계, 간단한 CRUD API, 빠른 프로토타입	복잡한 비즈니스 로직, 견고한 API 디자인, 보안 고려
따라서, 복잡한 비즈니스 로직, API 계약의 안정성, 그리고 보안을 중요하게 생각하는 경우에는
Spring Data REST의 자동 생성 기능을 사용하는 것보다 DTO와 Spring HATEOAS를 함께 사용하는 수동 구현 방식이 더 적합합니다. 

-------------------------

김찬우 - 


